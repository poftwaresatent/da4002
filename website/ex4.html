<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
    <title>ITADS Exercise 4</title>
    <link rel="stylesheet" href="style.css" type="text/css">
  </head>
  <body>
    
    <div id="shell">
      
      <div id="top-left">
	<ul>
	  <li><a href="index.html"><b>home</b></a>
	    <ul>
	      <li><a href="schedule.html">schedule</a></li>
	      <li><a href="faq.html">FAQ</a></li>
	      <li><a href="linux-intro.html">linux intro</a></li>
	      <li><a href="vbox.html">virtual box</a></li>
	    </ul>
	  </li>
	  <li><b>exercises</b>
	    <ul>
	      <li><a href="ex1.html">exercise 1</a></li>
	      <li><a href="ex2.html">exercise 2</a></li>
	      <li><a href="ex3.html">exercise 3</a></li>
	      <li><a href="ex4.html">exercise 4</a></li>
	      <li><a href="ex5.html">exercise 5</a></li>
	      <li><a href="ex6.html">exercise 6</a></li>
	      <li><a href="ex7.html">exercise 7</a></li>
	      <li><a href="ex8.html">exercise 8</a></li>
	      <li><a href="ex9.html">exercise 9</a></li>
	    </ul>
	  </li>
	  <li><b>projects</b>
	    <ul>
	      <li><a href="pr1.html">project 1</a></li>
	      <li><a href="pr2.html">project 2</a></li>
	    </ul>
	  </li>
	</ul>
      </div> <!-- top-left -->
      
      <div id="bottom-right">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="./valid-html401-blue" alt="Valid HTML 4.01 Strict" height="31" width="88"></a></p>
      </div> <!-- bottom-right -->
      
    </div> <!-- shell -->
    
    <!-- ================================================== -->
    <!-- CONTENT STARTS HERE ============================== -->
    <!-- ================================================== -->
    
    <div id="content">
      
      <h1>ITADS Exercise 4<br>
	lists, stacks, generics</h1>
      
      <h2>Exercise 4.1: singly linked list</h2>
      
      <p>
	As a starting point, create a project from the file <a href="ex4/list.c">list.c</a> which contains structures and functions to implement and test a simply linked list.
	The code is ready to run and should produce the following output:
      </p>

<pre class="output">forward:    3  14  15  92   [tail:  92]
reverse:  [empty]
ins_after head:        3  14  15  92   [tail:  92]
ins_after tail:        3  14  15  92   [tail:  92]
ins_after 2nd item:    3  14  15  92   [tail:  92]</pre>

      <p>
	Before continuing, make sure to understand the <tt>append()</tt> function and what <tt>main()</tt> does to produce this output.
      </p>
      
      <ol>
	<li>
	  Make a diagram of the operations needed to <b>prepend</b> an element to a simply linked list.
	  Then implement the <tt>prepend()</tt> function starting on line 102.
	  When you are done, the output of the program should look exactly like this:
<pre class="output">forward:    3  14  15  92   [tail:  92]
reverse:   92  15  14   3   [tail:   3]
ins_after head:        3  14  15  92   [tail:  92]
ins_after tail:        3  14  15  92   [tail:  92]
ins_after 2nd item:    3  14  15  92   [tail:  92]</pre>
          On the second line of this output, you see that the "reverse" list is now properly created.
	</li>
	<li>
	  Make a diagram of the operations needed to <b>insert</b> an element into a simply linked list.
	  Then implement the <tt>ins_after()</tt> function starting on line 124 of the original file (the line number will have changed due to the space taken by your implementation of the <tt>prepend</tt> function).
	  When you are done, the output of the program should look exactly like this:
<pre class="output">forward:    3  14  15  92   [tail:  92]
reverse:   92  15  14   3   [tail:   3]
ins_after head:        3 -11  14  15  92   [tail:  92]
ins_after tail:        3 -11  14  15  92 -22   [tail: -22]
ins_after 2nd item:    3 -11 -33  14  15  92 -22   [tail: -22]</pre>
          Notice that the three last lines of output now have additional elements: -11, -22, and -33.
	</li>
	<li>
	  Make a diagram of the changes needed to <b>remove the head</b> of a simply linked list.
	  Then implement the <tt>rem_head()</tt> function (line 140 in the original source file) and un-comment the <tt>while</tt> loop at the end of <tt>main()</tt> (line 228 in the original file) in order to test your implementation.
	  When you are done, the output should look like this:
<pre class="output">forward:    3  14  15  92   [tail:  92]
reverse:   92  15  14   3   [tail:   3]
ins_after head:        3 -11  14  15  92   [tail:  92]
ins_after tail:        3 -11  14  15  92 -22   [tail: -22]
ins_after 2nd item:    3 -11 -33  14  15  92 -22   [tail: -22]
removed head:  -11 -33  14  15  92 -22   [tail: -22]
removed head:  -33  14  15  92 -22   [tail: -22]
removed head:   14  15  92 -22   [tail: -22]
removed head:   15  92 -22   [tail: -22]
removed head:   92 -22   [tail: -22]
removed head:  -22   [tail: -22]
removed head:  [empty]</pre>
          Notice the 7 new lines at the end of the output, which show that <tt>rem_head()</tt> repeatedly removes the first element until the list is empty.
	</li>
      </ol>
      
      <h2>Exercise 4.2: list-based stack</h2>
      
      <p>
	The source file <a href="stack.c">stack.c</a> is a partial implementation for a program that uses a stack to print its command-line arguments in reverse.
	It is based on the same idea as exercise 3.3: push each argument onto the stack, and then pop them off while printing them one by one.
	(But exercise 3.3 used a vector-backed stack, and it used lines in a text file instead of command line arguments.)
      </p>
      
      <p>
	Complete this program based on what you learned in exercise 4.1 and the comments that you find in the source file.
	Notice that the <tt>push()</tt> function is practically the same as <tt>prepend()</tt> in the previous exercise, and <tt>pop()</tt> will be similar to <tt>rem_head()</tt>.
      </p>
      
      <p>
	Test your program with the following arguments:
      </p>
<pre class="code">one "argument two" three 4</pre>

      <p>
	<em>Reminder: to set arguments from within Eclipse, you have to right-click on the executable name, select "Run As..." -> "Run Configurations", go to the "Arguments" tab, enter the above text, and click "Apply".</em>
	From the command line, provided you are in the directory containing the executable, you can simply just type:
      </p>
<pre class="command">./stack one "argument two" three 4</pre>
      
      <p>
	This should produce the following output:
      </p>
<pre class="output">4
three
argument two
one
./stack</pre>
      
      <p>
	Note that the last line may contain an absolute path when you run this from within Eclipse.
      </p>
      
      <h2>Exercise 4.3 (optional): circular linked list</h2>
      
      <p>
	The file <a href="clist.c">clist.c</a> is an incomplete program which illustrates circularly linked lists.
	Implement the empty <tt>append()</tt> and <tt>prepend()</tt> functions so that it prints the following output:
      </p>
      
<pre class="output"> 6 elements:    6   4   2   1   3   5
 9 elements:    6   4   2   1   3   5   6   4   2
12 elements:    6   4   2   1   3   5   6   4   2   1   3   5
15 elements:    6   4   2   1   3   5   6   4   2   1   3   5   6   4   2</pre>
      
      <h2>Exercise 4.4: doubly linked list</h2>
      
      <p>
	The file <a href="dlist.c">dlist.c</a> is a partial implementation of a program to demonstrate doubly-linked lists.
	It is ready to compile and run but is missing three crucial functions: <tt>rem_item()</tt> to remove a given item from the list, <tt>ins_after()</tt> to insert something so that it comes after a given item, and <tt>ins_before()</tt> which inserts something in front of the given item.
      </p>
      
      <ol>
	<li>
	  Implement <tt>rem_item()</tt>.
	  It should produce the output given below.
	  <b>Check that the three "removing..." blocks</b> produced by your program are correct before continuing.
<pre class="output">initial list...
  forward:    3  14  15  92  65 359
  reverse:  359  65  92  15  14   3
removing head...
  forward:   14  15  92  65 359
  reverse:  359  65  92  15  14
removing tail...
  forward:   14  15  92  65
  reverse:   65  92  15  14
removing second item...
  forward:   14  92  65
  reverse:   65  92  14
inserting after head...
  forward:   14  92  65
  reverse:   65  92  14
inserting after tail...
  forward:   14  92  65
  reverse:   65  92  14
inserting after 2nd item...
  forward:   14  92  65
  reverse:   65  92  14
inserting before head...
  forward:   14  92  65
  reverse:   65  92  14
inserting before tail...
  forward:   14  92  65
  reverse:   65  92  14
inserting before 2nd item...
  forward:   14  92  65
  reverse:   65  92  14</pre>
	</li>
	<li>
	  Implement <tt>ins_after()</tt>.
	  It should produce the output given below.
	  <b>Check that the three "inserting after..." blocks</b> produced by your program are correct before continuing.
<pre class="output">initial list...
  forward:    3  14  15  92  65 359
  reverse:  359  65  92  15  14   3
removing head...
  forward:   14  15  92  65 359
  reverse:  359  65  92  15  14
removing tail...
  forward:   14  15  92  65
  reverse:   65  92  15  14
removing second item...
  forward:   14  92  65
  reverse:   65  92  14
inserting after head...
  forward:   14  -1  92  65
  reverse:   65  92  -1  14
inserting after tail...
  forward:   14  -1  92  65  -2
  reverse:   -2  65  92  -1  14
inserting after 2nd item...
  forward:   14  -1  -3  92  65  -2
  reverse:   -2  65  92  -3  -1  14
inserting before head...
  forward:   14  -1  -3  92  65  -2
  reverse:   -2  65  92  -3  -1  14
inserting before tail...
  forward:   14  -1  -3  92  65  -2
  reverse:   -2  65  92  -3  -1  14
inserting before 2nd item...
  forward:   14  -1  -3  92  65  -2
  reverse:   -2  65  92  -3  -1  14</pre>
	</li>
	<li>
	  Implement <tt>ins_before()</tt>.
	  It should produce the output given below.
	  <b>Check that the three "inserting before..." blocks</b> produced by your program are correct before continuing.
<pre class="output">initial list...
  forward:    3  14  15  92  65 359
  reverse:  359  65  92  15  14   3
removing head...
  forward:   14  15  92  65 359
  reverse:  359  65  92  15  14
removing tail...
  forward:   14  15  92  65
  reverse:   65  92  15  14
removing second item...
  forward:   14  92  65
  reverse:   65  92  14
inserting after head...
  forward:   14  -1  92  65
  reverse:   65  92  -1  14
inserting after tail...
  forward:   14  -1  92  65  -2
  reverse:   -2  65  92  -1  14
inserting after 2nd item...
  forward:   14  -1  -3  92  65  -2
  reverse:   -2  65  92  -3  -1  14
inserting before head...
  forward:  -11  14  -1  -3  92  65  -2
  reverse:   -2  65  92  -3  -1  14 -11
inserting before tail...
  forward:  -11  14  -1  -3  92  65 -22  -2
  reverse:   -2 -22  65  92  -3  -1  14 -11
inserting before 2nd item...
  forward:  -11 -33  14  -1  -3  92  65 -22  -2
  reverse:   -2 -22  65  92  -3  -1  14 -33 -11</pre>
	</li>
      </ol>
      
      <h2>Exercise 4.5 (optional): generic list</h2>

      <ol>
	<li>person list (non-pointer version given, turn it into pointer-based mechanism)</li>
	<li>void pointer and cast</li>
	<li>function pointers and apply function</li>
      </ol>
      
    </div> <!-- content -->
    
  </body>
</html>
