\documentclass[a4paper]{article}

\usepackage[pdftex]{graphicx}
\usepackage[margin=3cm]{geometry}
\usepackage{verbatim,moreverb,amssymb,amsmath}


\newcounter{question}
\newcommand{\question}[1]{\refstepcounter{question}\section*{Question~\thequestion~~~\small\emph{(#1)}}}
\renewcommand*\thequestion{\arabic{question}}


\begin{document}

\pagestyle{empty}
\thispagestyle{empty}



\noindent
\begin{minipage}{\columnwidth}
  \centering
  \Large
  DA4002 (HT11) Halmstad University\\
  Introduction to Algorithms, Data Structures, and Problem Solving\\[3\baselineskip]
  \Huge
  Written Exam\\
  \Large
  Tuesday, October 30, 2012\\[2\baselineskip]
  Examiner: Roland Philippsen
\end{minipage}

\vfill

\noindent
\begin{center}
\fbox{
  \begin{minipage}{0.8\columnwidth}
    \textbf{Student Name:}\\[3\baselineskip]
  \end{minipage}
}
\end{center}

\vfill



\section*{Rules}

Aside from the obvious rules of conduct exams (e.g.\ no chatting):

\begin{itemize}
\item
  \textbf{No computing devices} (laptops, phones, calculators, \emph{etc}).
\item
  \textbf{No books or printouts} except for non-electronic dictionaries.
\item
  \textbf{Allowed hand-written notes}: two sheets of A4 paper (front and back).
\end{itemize}



\section*{General Guidelines}

\begin{itemize}
\item
  \textbf{Read carefully} and pace yourself.
  You can solve the problems in any order you want, but later problems may be easier to solve after you have answered the preceding questions.
\item
  \textbf{Write clearly} and draw clear diagrams.
  If you need to correct a mistake, then cleanly cross out the wrong answer and clearly indicate where the correction can be found.
\item
  \textbf{Indicate the question number} for each of your answers.
  If a question has sub-questions, indicate the sub-question number after the main question number, separated by a dot.
  For example, question 3 has 4 sub-questions, and their answers should be numbered 3.1, 3.2, 3.3, and 3.4.
\end{itemize}



\pagebreak
\pagestyle{plain}
\thispagestyle{plain}
\setcounter{page}{1}



\question{6 points}

Below are three diagrams \textbf{(1)}, \textbf{(2)}, and \textbf{(3)}.
Each of them shows the result of inserting the values $\{5, -2, -3, 1, 9, 6\}$ into a different type of data structure.
Beside the diagrams are three data structure declarations \textbf{(A)}, \textbf{(B)}, \textbf{(C)}.
Each of them corresponds to one of the diagrams.
On the next page, there are three different implementations of an \textbf{\texttt{insert}} function.
They are labelled \textbf{(D)}, \textbf{(E)}, \textbf{(F)}.
Each implementation is for a different type of data structure.

\begin{enumerate}
\item
  Fill in the table at the bottom of this page.
  For each of the diagrams
  \begin{itemize}
  \item
    choose the corresponding declaration (from this page),
  \item
    choose the corresponding implementation (from the next page),
  \item
    and write down the name of the data structure.
  \end{itemize}
\item
  For each of these data structures, \textbf{write code that iterates over all the items} and prints their value.
  You can use pseudo-code or C code, or plain English.
\end{enumerate}

\vfill

\noindent
\begin{minipage}{0.4\columnwidth}
  \includegraphics[width=\columnwidth]{q1.pdf}
\end{minipage}\hfill
\begin{minipage}{0.5\columnwidth}
  \small
  \fbox{%
    \begin{minipage}{\columnwidth}
      \hfill declaration \textbf{(A)}
      \verbatimtabinput{clist-decl.txt}
  \end{minipage}}
  \fbox{%
    \begin{minipage}{\columnwidth}
      \hfill declaration \textbf{(B)}
      \verbatimtabinput{minheap-decl.txt}
  \end{minipage}}
  \fbox{%
    \begin{minipage}{\columnwidth}
      \hfill declaration \textbf{(C)}
      \verbatimtabinput{bstree-decl.txt}
  \end{minipage}}
\end{minipage}

\vfill

\begin{center}
  \begin{tabular}{|c|p{0.2\columnwidth}|p{0.2\columnwidth}|p{0.5\columnwidth}|}
    \hline
            & declaration  & implementation & \\
    diagram & (A, B, or C) & (D, E, or F)   & data structure name \\
    \hline
    &&&\\
    \textbf{(1)} & & & \\
    &&&\\
    \hline
    &&&\\
    \textbf{(2)} & & & \\
    &&&\\
    \hline
    &&&\\
    \textbf{(3)} & & & \\
    &&&\\
    \hline
  \end{tabular}
\end{center}


\clearpage

\subsection*{Implementations for Question 1}

\noindent
\fbox{%
  \begin{minipage}{\columnwidth}
    \hfill implementation \textbf{(D)}
    \footnotesize
    \verbatimtabinput{minheap-insert.txt}
\end{minipage}}

\noindent
\fbox{%
  \begin{minipage}{\columnwidth}
    \hfill implementation \textbf{(E)}
    \footnotesize
    \verbatimtabinput{bstree-insert.txt}
\end{minipage}}

\noindent
\fbox{%
  \begin{minipage}{\columnwidth}
    \hfill implementation \textbf{(F)}
    \footnotesize
    \verbatimtabinput{clist-insert.txt}
\end{minipage}}

\vfill
\textbf{\emph{Notice: don't forget to answer question 1.2 (see previous page).}}


\clearpage

\question{4 points}

In a \emph{multilist}, items have multiple link fields and belong to more than one list simultaneously.
For example, points can be stored such their order along X and Y is maintained independently.
In this case, there is one link field (pointer) for the next item along X, and one for the next item along Y.
There also are two separate heads, because the start of the list that is sorted along X will usually be different from the start of the list that is sorted along Y.

The diagram below shows five points labeled \textbf{A}, \textbf{B}, \textbf{C}, \textbf{D}, and \textbf{E}.
Each has different X and Y coordinates, written in parenthesis after the label.

\vfill

\noindent
\begin{center}
  \includegraphics[width=0.4\columnwidth]{q2a.pdf}
\end{center}

\vfill

\begin{enumerate}
\item
  At the bottom of this page is an incomplete diagram for a \emph{multilist} as described above.
  
  Your task is to fill in and connect the \texttt{Point} boxes:
  write one of the labels (A, B, C, D, and E) into each box, and draw arrows from the \texttt{xnext} fields.
  The resulting linked list must be ordered along X (from lowest to highest X coordinate) and contains all the points A, B, C, D, and E.
  Also draw an arrow from \texttt{xhead} to the appropriate start box.
  
  Then, do the same for the Y coordinate, by adding arrows for the \texttt{ynext} and \texttt{yhead} pointers.
  
  Verify your work by checking that:
  \begin{itemize}
  \item
    When you start at \texttt{xhead} and repeatedly follow the \texttt{xnext} link, you visit all points by increasing X coordinate.
  \item
    Likewise, when you start at \texttt{yhead} and follow the \texttt{ynext} links, the points are visited by increasing Y coordinate.
  \end{itemize}
  
\item
  Write a procedure to insert a point into such a multilist.
  Points are specified using their X and Y coordinates.
  You have to provide a declaration for the data structure along with your procedure.
  Take care to properly handle the initial case of inserting into an empty list.
\end{enumerate}

\vfill

\noindent
\begin{center}
  \includegraphics[width=\columnwidth]{q2b.pdf}
\end{center}



\clearpage

\question{4 points}

\begin{enumerate}

\item
  The execution time $T_A$ of program $A$ has been measured on a problem of size $N=1024$:
  it took $T_A(N) = 640ms$ to run.
  What is the expected execution time $T'_A$ for a problem of size $N'=128$, if $A$'s big-Oh complexity is
  \begin{itemize}
  \item
    logarithmic: $T_A(N) \in O(\log N)$ ?
  \item
    square: $T_A(N) \in O(N^2)$ ?
  \end{itemize}
  
\item
  Program $B$ required $T_B=10ms$ to run on a problem of size $N=1000$.
  What problem size $N'$ can be expected to complete, if the available time is $T'_B=270ms$ and the big-Oh complexity of $B$ is
  \begin{itemize}
  \item
    linear: $T_B(N) \in O(N)$ ?
  \item
    cubic: $T_B(N) \in O(N^3)$ ?
  \end{itemize}
  
\item
  The time $T_C$ it takes to run \texttt{function\_C} for $N=512$ is $T_D=5ms$.
  Based on a big-Oh complexity analysis, how much time will it take for $N'=2048$?
  You can assume that the various \texttt{slow\_X} functions take significantly longer to execute than any of the other operations.
  
  \begin{center}
    \fbox{%
      \begin{minipage}{0.6\columnwidth}
        \small
        \verbatimtabinput{q3a.txt}
    \end{minipage}}
  \end{center}
  
\item
  The time $T_D$ taken by \texttt{function\_D} is $30ms$ for an array of length $N=512$.
  How large of an array can be expected to be solved when we only have $10ms$ available?
  You can assume that the \texttt{slow\_5} function takes up the majority of the computation time.
  
  \begin{center}
    \fbox{%
      \begin{minipage}{0.6\columnwidth}
        \small
        \verbatimtabinput{q3b.txt}
    \end{minipage}}
  \end{center}
  
\end{enumerate}


\clearpage

\question{6 points}


\clearpage

\question{5 points}



\end{document}
